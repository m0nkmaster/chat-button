ü§ñ Initializing VoiceAssistant...
‚ÑπÔ∏è Note: Using free Google Speech Recognition API (limited to ~50 requests/day)
‚úÖ Wake word detector initialized successfully!
üîä Setting up audio system...

üé§ Available Audio Input Devices
   Index 0: iPhone Microphone
   Index 1: BlackHole 2ch
‚úÖ Index 2: MacBook Pro Microphone
   Index 4: Microsoft Teams Audio

üîä Available Audio Output Devices
   Index 1: BlackHole 2ch
‚úÖ Index 3: MacBook Pro Speakers
   Index 4: Microsoft Teams Audio
   Index 5: Multi-Output Device

üöÄ Voice Assistant is ready! Say one of the trigger words to begin...
üéµ Trigger word detected! Playing activation sound...
ü§î Trigger word detected! How can I help you?
‚è∞ Session timeout in: 10.0s...
üé§ Recording user input...
[2024-12-20 20:50:31.111373] Starting confirmation sound...
[2024-12-20 20:50:31.304277] Confirmation sound started
[2024-12-20 20:50:31.304298] Starting API call...
Message sent to API: [{'role': 'system', 'content': 'You are a voice assistant in a lively household. Keep your responses concise, clear, and under 2 sentences when possible. Be direct and helpful.\n\nCurrent Context:\n- Current Date: Friday, December 20, 2024\n- Current Time: 08:50 PM\n- Location: Location of Robs-MacBook-Pro.local\n- Timezone: GMT\n\nUse this context to provide more relevant and timely responses. For example, consider the time of day when making suggestions or the current season for relevant recommendations.'}, {'role': 'user', 'content': 'train from Mirfield'}]
[2024-12-20 20:50:32.052521] Got API response: {'content': None, 'tool_calls': [ChatCompletionMessageToolCall(id='call_XZcq3W9Ln0gSZoHVTzQ9i1XX', function=Function(arguments='{"station":"MIR"}', name='get_train_times'), type='function')]}
[2024-12-20 20:50:32.836489] Converting to speech...
[2024-12-20 20:50:35.156346] Got audio data, length: 68640 bytes
[2024-12-20 20:50:35.156389] Stopping confirmation sound...
[2024-12-20 20:50:35.307878] Confirmation sound stopped
[2024-12-20 20:50:35.512979] Starting TTS playback
[2024-12-20 20:50:39.367763] TTS playback complete
[2024-12-20 20:50:39.573379] Playing ready sound...
[2024-12-20 20:50:40.190979] Ready sound complete
üëÇ Ready for your next question!
‚è∞ Session timeout in: 10.0s...
üé§ Recording user input...
[2024-12-20 20:50:46.413766] Starting confirmation sound...
[2024-12-20 20:50:46.601136] Confirmation sound started
[2024-12-20 20:50:46.601158] Starting API call...
Message sent to API: [{'role': 'system', 'content': 'You are a voice assistant in a lively household. Keep your responses concise, clear, and under 2 sentences when possible. Be direct and helpful.\n\nCurrent Context:\n- Current Date: Friday, December 20, 2024\n- Current Time: 08:50 PM\n- Location: Location of Robs-MacBook-Pro.local\n- Timezone: GMT\n\nUse this context to provide more relevant and timely responses. For example, consider the time of day when making suggestions or the current season for relevant recommendations.'}, {'role': 'user', 'content': 'train from Mirfield'}, {'role': 'assistant', 'content': '', 'tool_calls': [ChatCompletionMessageToolCall(id='call_XZcq3W9Ln0gSZoHVTzQ9i1XX', function=Function(arguments='{"station":"MIR"}', name='get_train_times'), type='function')]}, {'role': 'tool', 'content': '{"services": [], "status": "success", "message": "Found 0 services from MIR"}', 'name': 'get_train_times', 'tool_call_id': 'call_XZcq3W9Ln0gSZoHVTzQ9i1XX'}, {'role': 'user', 'content': 'what about trains tomorrow'}]
[2024-12-20 20:50:47.647617] Got API response: {'content': None, 'tool_calls': [ChatCompletionMessageToolCall(id='call_k7FSrQvJwLFGUYDgmCld82DG', function=Function(arguments='{"station":"MIR","num_results":5}', name='get_train_times'), type='function')]}
[2024-12-20 20:50:48.580313] Converting to speech...
[2024-12-20 20:50:50.199747] Got audio data, length: 81120 bytes
[2024-12-20 20:50:50.199799] Stopping confirmation sound...
[2024-12-20 20:50:50.352377] Confirmation sound stopped
[2024-12-20 20:50:50.557466] Starting TTS playback
[2024-12-20 20:50:55.133382] TTS playback complete
[2024-12-20 20:50:55.339009] Playing ready sound...
[2024-12-20 20:50:55.961160] Ready sound complete
üëÇ Ready for your next question!
‚è∞ Session timeout in: 10.0s...
üé§ Recording user input...
[2024-12-20 20:51:01.735937] Starting confirmation sound...
[2024-12-20 20:51:01.928989] Confirmation sound started
[2024-12-20 20:51:01.929017] Starting API call...
Message sent to API: [{'role': 'system', 'content': 'You are a voice assistant in a lively household. Keep your responses concise, clear, and under 2 sentences when possible. Be direct and helpful.\n\nCurrent Context:\n- Current Date: Friday, December 20, 2024\n- Current Time: 08:50 PM\n- Location: Location of Robs-MacBook-Pro.local\n- Timezone: GMT\n\nUse this context to provide more relevant and timely responses. For example, consider the time of day when making suggestions or the current season for relevant recommendations.'}, {'role': 'user', 'content': 'train from Mirfield'}, {'role': 'assistant', 'content': '', 'tool_calls': [ChatCompletionMessageToolCall(id='call_XZcq3W9Ln0gSZoHVTzQ9i1XX', function=Function(arguments='{"station":"MIR"}', name='get_train_times'), type='function')]}, {'role': 'tool', 'content': '{"services": [], "status": "success", "message": "Found 0 services from MIR"}', 'name': 'get_train_times', 'tool_call_id': 'call_XZcq3W9Ln0gSZoHVTzQ9i1XX'}, {'role': 'user', 'content': 'what about trains tomorrow'}, {'role': 'assistant', 'content': '', 'tool_calls': [ChatCompletionMessageToolCall(id='call_k7FSrQvJwLFGUYDgmCld82DG', function=Function(arguments='{"station":"MIR","num_results":5}', name='get_train_times'), type='function')]}, {'role': 'tool', 'content': '{"services": [], "status": "success", "message": "Found 0 services from MIR"}', 'name': 'get_train_times', 'tool_call_id': 'call_k7FSrQvJwLFGUYDgmCld82DG'}, {'role': 'user', 'content': 'show me the next train from Manchester to Mirfield'}]
[2024-12-20 20:51:02.827000] Got API response: {'content': None, 'tool_calls': [ChatCompletionMessageToolCall(id='call_T76kPWb3ePzLWZsPW5oRt14v', function=Function(arguments='{"station":"MAN","destination":"MIR"}', name='get_train_times'), type='function')]}
[2024-12-20 20:51:03.776305] Converting to speech...
[2024-12-20 20:51:05.630600] Got audio data, length: 105120 bytes
[2024-12-20 20:51:05.630639] Stopping confirmation sound...
[2024-12-20 20:51:05.784337] Confirmation sound stopped
[2024-12-20 20:51:05.989427] Starting TTS playback
[2024-12-20 20:51:11.762950] TTS playback complete
[2024-12-20 20:51:11.969076] Playing ready sound...
[2024-12-20 20:51:12.578400] Ready sound complete
üëÇ Ready for your next question!
‚è∞ Session timeout in: 10.0s...
üé§ Recording user input...
[2024-12-20 20:51:19.488568] Starting confirmation sound...
[2024-12-20 20:51:19.684854] Confirmation sound started
[2024-12-20 20:51:19.684879] Starting API call...
Message sent to API: [{'role': 'system', 'content': 'You are a voice assistant in a lively household. Keep your responses concise, clear, and under 2 sentences when possible. Be direct and helpful.\n\nCurrent Context:\n- Current Date: Friday, December 20, 2024\n- Current Time: 08:50 PM\n- Location: Location of Robs-MacBook-Pro.local\n- Timezone: GMT\n\nUse this context to provide more relevant and timely responses. For example, consider the time of day when making suggestions or the current season for relevant recommendations.'}, {'role': 'user', 'content': 'train from Mirfield'}, {'role': 'assistant', 'content': '', 'tool_calls': [ChatCompletionMessageToolCall(id='call_XZcq3W9Ln0gSZoHVTzQ9i1XX', function=Function(arguments='{"station":"MIR"}', name='get_train_times'), type='function')]}, {'role': 'tool', 'content': '{"services": [], "status": "success", "message": "Found 0 services from MIR"}', 'name': 'get_train_times', 'tool_call_id': 'call_XZcq3W9Ln0gSZoHVTzQ9i1XX'}, {'role': 'user', 'content': 'what about trains tomorrow'}, {'role': 'assistant', 'content': '', 'tool_calls': [ChatCompletionMessageToolCall(id='call_k7FSrQvJwLFGUYDgmCld82DG', function=Function(arguments='{"station":"MIR","num_results":5}', name='get_train_times'), type='function')]}, {'role': 'tool', 'content': '{"services": [], "status": "success", "message": "Found 0 services from MIR"}', 'name': 'get_train_times', 'tool_call_id': 'call_k7FSrQvJwLFGUYDgmCld82DG'}, {'role': 'user', 'content': 'show me the next train from Manchester to Mirfield'}, {'role': 'assistant', 'content': '', 'tool_calls': [ChatCompletionMessageToolCall(id='call_T76kPWb3ePzLWZsPW5oRt14v', function=Function(arguments='{"station":"MAN","destination":"MIR"}', name='get_train_times'), type='function')]}, {'role': 'tool', 'content': '{"services": [], "status": "success", "message": "Found 0 services from MAN"}', 'name': 'get_train_times', 'tool_call_id': 'call_T76kPWb3ePzLWZsPW5oRt14v'}, {'role': 'user', 'content': 'give me the next five trains leaving Manchester Piccadilly now'}]
[2024-12-20 20:51:20.606182] Got API response: {'content': None, 'tool_calls': [ChatCompletionMessageToolCall(id='call_ydDh9YrdWhOewWS5Vv7PYnMK', function=Function(arguments='{"station":"MAN","num_results":5}', name='get_train_times'), type='function')]}
[2024-12-20 20:51:21.997675] Converting to speech...
[2024-12-20 20:51:25.130680] Got audio data, length: 198240 bytes
[2024-12-20 20:51:25.130720] Stopping confirmation sound...
[2024-12-20 20:51:25.283248] Confirmation sound stopped
[2024-12-20 20:51:25.488341] Starting TTS playback
[2024-12-20 20:51:35.894679] TTS playback complete
[2024-12-20 20:51:36.099980] Playing ready sound...
[2024-12-20 20:51:36.718195] Ready sound complete
üëÇ Ready for your next question!
‚è∞ Session timeout in: 10.0s...
üé§ Recording user input...
‚è∞ Session timeout in: 7.8s...
‚è∞ Session timeout in: 7.8s...
üé§ Recording user input...
ü§î Sorry, I couldn't understand that. Could you try again?
‚è∞ Session timeout in: 3.8s...
üé§ Recording user input...
ü§î Sorry, I couldn't understand that. Could you try again?
üò¥ Going back to sleep. Say a trigger word to start a new conversation.
